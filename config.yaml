# Status Monitor Configuration
# Supports: HTTP, TCP, ICMP (Ping), DNS, WebSocket checks

title: "System Status"
description: "Real-time system status and uptime monitoring"

theme:
  primary_color: "#3B82F6"
  accent_color: "#10B981"
  dark_mode: true

server:
  port: 8080
  read_timeout: 15s
  write_timeout: 15s

services:
  # ============================================
  # HTTP/HTTPS Checks (default type)
  # ============================================
  - name: "API Server"
    type: http
    group: "Core Services"
    url: "https://api.github.com"
    method: GET
    interval: 30s
    timeout: 10s
    expected_status: 200
    description: "Main API endpoint"

  - name: "Website"
    type: http
    group: "Core Services"
    url: "https://github.com"
    method: GET
    interval: 30s
    timeout: 10s
    expected_status: 200
    description: "Public website"
    # expected_body: "GitHub"  # Optional: check response contains text

  # ============================================
  # TCP Port Checks
  # ============================================
  - name: "Database"
    type: tcp
    group: "Infrastructure"
    host: "github.com"
    port: 443
    interval: 30s
    timeout: 5s
    description: "Database server (port check)"

  - name: "Redis Cache"
    type: tcp
    group: "Infrastructure"
    host: "github.com"
    port: 22
    interval: 30s
    timeout: 5s
    description: "Redis cache server"

  # ============================================
  # ICMP Ping Checks
  # ============================================
  - name: "Network Gateway"
    type: icmp
    group: "Network"
    host: "8.8.8.8"
    interval: 30s
    timeout: 5s
    description: "Google DNS (ping test)"

  - name: "Cloudflare DNS"
    type: icmp
    group: "Network"
    host: "1.1.1.1"
    interval: 30s
    timeout: 5s
    description: "Cloudflare DNS ping"

  # ============================================
  # DNS Resolution Checks
  # ============================================
  - name: "DNS Resolver"
    type: dns
    group: "DNS"
    host: "github.com"
    dns_record_type: A          # A, AAAA, CNAME, MX, TXT, NS
    dns_resolver: "8.8.8.8:53"  # Custom DNS server
    interval: 60s
    timeout: 5s
    description: "DNS A record lookup"

  - name: "MX Records"
    type: dns
    group: "DNS"
    host: "google.com"
    dns_record_type: MX
    dns_resolver: "1.1.1.1:53"
    interval: 60s
    timeout: 5s
    description: "Email MX records"

  # ============================================
  # WebSocket Checks
  # ============================================
  - name: "WebSocket Server"
    type: websocket
    group: "Real-time"
    url: "wss://echo.websocket.org"
    interval: 60s
    timeout: 10s
    description: "WebSocket connectivity"

  # ============================================
  # External Dependencies
  # ============================================
  - name: "Google"
    type: http
    group: "External"
    url: "https://www.google.com"
    method: GET
    interval: 60s
    timeout: 10s
    expected_status: 200
    description: "Google services"

  - name: "Cloudflare"
    type: http
    group: "External"
    url: "https://www.cloudflare.com"
    method: GET
    interval: 60s
    timeout: 10s
    expected_status: 200
    description: "Cloudflare CDN"

# incidents:
#   - id: "inc-001"
#     title: "API Latency Issues"
#     description: "Investigating slow responses"
#     status: "resolved"
#     severity: "minor"
#     created_at: "2024-01-15T10:30:00Z"
